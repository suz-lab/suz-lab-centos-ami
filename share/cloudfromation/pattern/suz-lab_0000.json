{
    "AWSTemplateFormatVersion": "2010-09-09", 
    "Description": "SUZ-LAB Formation 0000", 
    "Mappings": {
        "AvailabilityZoneMap": {
            "ap-northeast-1": {
                "AzA": "ap-northeast-1a", 
                "AzB": "ap-northeast-1b", 
                "AzC": "ap-northeast-1c"
            }
        }
    }, 
    "Parameters": {
        "VpcCidrIpFirst2Octets": {
            "Default"    : "10.0", 
            "Description": "VPC CIDR IP First 2 Octets", 
            "Type"       : "String"
        }
    },
    "Resources": {
	"VpcBase": {
	    "Type": "AWS::CloudFormation::Stack",
	    "Properties": {
                "TemplateURL": { "Fn::Join": [ "", [
                    "http://",
                    { "Ref" : "AWS::Region" },
                    ".cloudformation.suz-lab.com.s3-",
                    { "Ref" : "AWS::Region" },
                    ".amazonaws.com/cloudformation/component/suz-lab_vpc-base/0.0.5.json"
                ] ] },
	        "Parameters": {
                    "VpcCidrIp"                : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".0.0/16"  ] ] },
                    "SubnetPublicVarACidrIp"   : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".0.0/24"  ] ] },
                    "SubnetPublicVarBCidrIp"   : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".1.0/24"  ] ] },
                    "SubnetPublicVarCCidrIp"   : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".2.0/24"  ] ] },
                    "SubnetPublicFixACidrIp"   : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".8.0/24"  ] ] },
                    "SubnetPublicFixBCidrIp"   : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".9.0/24"  ] ] },
                    "SubnetPublicFixCCidrIp"   : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".10.0/24" ] ] },
                    "SubnetProtectedVarACidrIp": { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".32.0/24" ] ] },
                    "SubnetProtectedVarBCidrIp": { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".33.0/24" ] ] },
                    "SubnetProtectedVarCCidrIp": { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".34.0/24" ] ] },
                    "SubnetProtectedFixACidrIp": { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".40.0/24" ] ] },
                    "SubnetProtectedFixBCidrIp": { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".41.0/24" ] ] },
                    "SubnetProtectedFixCCidrIp": { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".42.0/24" ] ] },
                    "SubnetPrivateVarACidrIp"  : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".64.0/24" ] ] },
                    "SubnetPrivateVarBCidrIp"  : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".65.0/24" ] ] },
                    "SubnetPrivateVarCCidrIp"  : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".66.0/24" ] ] },
                    "SubnetPrivateFixACidrIp"  : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".72.0/24" ] ] },
                    "SubnetPrivateFixBCidrIp"  : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".73.0/24" ] ] },
                    "SubnetPrivateFixCCidrIp"  : { "Fn::Join": [ "", [ { "Ref": "VpcCidrIpFirst2Octets" }, ".74.0/24" ] ] } 
		}
	    } 
	}
    },
    "Outputs": {
        "VpcId": {
            "Description": "VPC ID",
            "Value"      : { "Fn::GetAtt": [ "VpcBase", "Outputs.VpcId" ] }
        }, 
        "SubnetIdPublicVarA": {
            "Description": "Subnet ID Public Var Zone A",
            "Value"      : { "Fn::GetAtt": [ "VpcBase", "Outputs.SubnetIdPublicVarA" ] }
        }, 
        "SubnetIdPublicFixA": {
            "Description": "Subnet ID Public Fix Zone A",
            "Value"      : { "Fn::GetAtt": [ "VpcBase", "Outputs.SubnetIdPublicFixA" ] }
        }, 
        "SubnetIdPublicFixB": {
            "Description": "Subnet ID Public Fix Zone B",
            "Value"      : { "Fn::GetAtt": [ "VpcBase", "Outputs.SubnetIdPublicFixB" ] }
        }, 
        "SubnetIdProtectedFixA": {
            "Description": "Subnet ID Protected Fix Zone A",
            "Value"      : { "Fn::GetAtt": [ "VpcBase", "Outputs.SubnetIdProtectedFixA" ] }
        }, 
        "RouteTableIdProtected": {
            "Description": "Route Table ID Protected",
            "Value"      : { "Fn::GetAtt": [ "VpcBase", "Outputs.RouteTableIdProtected" ] }
        }, 
        "RouteTableIdPrivate": {
            "Description": "Route Table ID Private",
            "Value"      : { "Fn::GetAtt": [ "VpcBase", "Outputs.RouteTableIdPrivate" ] }
        } 
    } 
}

